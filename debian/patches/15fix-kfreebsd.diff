Index: checkinstall/installwatch-0.7.0beta5/installwatch.c
===================================================================
--- checkinstall.orig/installwatch-0.7.0beta5/installwatch.c	2008-06-25 19:59:41.000000000 -0400
+++ checkinstall/installwatch-0.7.0beta5/installwatch.c	2008-06-25 20:01:03.000000000 -0400
@@ -44,6 +44,13 @@
 #include <dlfcn.h>
 #include <dirent.h>
 
+/* There's no d_off on GNU/kFreeBSD */
+#if defined(__FreeBSD_kernel__)
+#define D_OFF(X) (-1)
+#else
+#define D_OFF(X) (X)
+#endif
+	
 #include "localdecls.h"
 
 #define DEBUG 1  
@@ -848,7 +855,7 @@
 			"\td_name    : \"%.*s\"\n",
 			entry,
 			entry->d_ino,
-			entry->d_off,
+			D_OFF(entry->d_off),
 			entry->d_reclen,
 			(int)entry->d_type,
 			(int)entry->d_reclen,(char*)(entry->d_name)
@@ -872,7 +879,7 @@
 			"\td_name    : \"%.*s\"\n",
 			entry,
 			entry->d_ino,
-			entry->d_off,
+			D_OFF(entry->d_off),
 			entry->d_reclen,
 			(int)entry->d_type,
 			(int)entry->d_reclen,(char*)(entry->d_name)
